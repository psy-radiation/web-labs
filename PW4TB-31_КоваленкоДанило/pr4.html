<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç—Ä—É–º—ñ–≤ –ö–ó —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ</title>
</head>
<body>
    <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç—Ä—É–º—ñ–≤ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–∞–º–∏–∫–∞–Ω–Ω—è</h1>
    <form id="shortCircuitForm">
        <label>–†–µ–∂–∏–º —Ä–æ–±–æ—Ç–∏ –•–ü–Ω–ï–ú:
            <select id="mode" onchange="setModeParameters()">
                <option value="normal">–ù–æ—Ä–º–∞–ª—å–Ω–∏–π</option>
                <option value="minimum">–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π</option>
                <option value="emergency">–ê–≤–∞—Ä—ñ–π–Ω–∏–π</option>
            </select>
        </label><br><br>

        <label>U, –∫–í: <input type="number" id="U" step="0.1" value="10"></label><br>
        <label>S–∫–∑, –ú–í–ê: <input type="number" id="Skz" step="0.1" value="500"></label><br>
        <label>Z—Ñ, –û–º: <input type="number" id="Zf" step="0.01" value="1.2"></label><br><br>

        <label>–ß–∞—Å t, c: <input type="number" id="time" step="0.1" value="1"></label><br>
        <label>k (–ê¬≤¬∑—Å/–º–º¬≤): <input type="number" id="k" value="143"></label><br>

        <label>–ö–∞–±–µ–ª—å:
            <select id="cable" onchange="setCableParameters()">
                <option value="70">70 –º–º¬≤</option>
                <option value="95">95 –º–º¬≤</option>
                <option value="120" selected>120 –º–º¬≤</option>
                <option value="150">150 –º–º¬≤</option>
            </select>
        </label><br>
        <label>–î–æ–ø—É—Å—Ç–∏–º–∏–π I–¥–∏–Ω, –∫–ê: <input type="number" id="I_dyn_allow" value="25"></label><br><br>

        <button type="button" onclick="calculate()">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
    </form>

    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h2>
    <p id="results"></p>

    <script>
        const cableData = {
            "70": { S: 70 },
            "95": { S: 95 },
            "120": { S: 120 },
            "150": { S: 150 }
        };

        const modeData = {
            "normal": { Skz: 500, Zf: 1.2 },
            "minimum": { Skz: 300, Zf: 1.8 },
            "emergency": { Skz: 200, Zf: 2.5 }
        };

        function setCableParameters() {
            // –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ –ª–æ–≥—ñ–∫–∏ –¥–ª—è –æ–ø–æ—Ä—É –∫–∞–±–µ–ª—é
        }

        function setModeParameters() {
            const mode = document.getElementById("mode").value;
            const params = modeData[mode];
            document.getElementById("Skz").value = params.Skz;
            document.getElementById("Zf").value = params.Zf;
        }

        function calculate() {
            const U = parseFloat(document.getElementById("U").value);
            const Skz = parseFloat(document.getElementById("Skz").value);
            const Zf = parseFloat(document.getElementById("Zf").value);
            const t = parseFloat(document.getElementById("time").value);
            const k = parseFloat(document.getElementById("k").value);
            const cable = document.getElementById("cable").value;
            const S = cableData[cable].S;
            const I_dyn_allow = parseFloat(document.getElementById("I_dyn_allow").value);

            const I_3f = (Skz * 1000) / (Math.sqrt(3) * U); // –∫–ê
            const I_1f = (U * 1000) / (Math.sqrt(3) * Zf);   // –∫–ê
            const I_therm = Math.sqrt((k * Math.pow(S, 2)) / t) / 1000; // –∫–ê
            const I_dyn = 2.5 * I_3f; // –∫–ê

            const therm_ok = I_3f <= I_therm;
            const dyn_ok = I_dyn <= I_dyn_allow;

            document.getElementById("results").innerHTML = `
                üîå –¢—Ä–∏—Ñ–∞–∑–Ω–∏–π —Å—Ç—Ä—É–º –ö–ó: <strong>${I_3f.toFixed(2)} –∫–ê</strong><br>
                üîå –û–¥–Ω–æ—Ñ–∞–∑–Ω–∏–π —Å—Ç—Ä—É–º –ö–ó: <strong>${I_1f.toFixed(2)} –∫–ê</strong><br>
                ‚ô® –¢–µ—Ä–º—ñ—á–Ω–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –∫–∞–±–µ–ª—é: <strong>${I_therm.toFixed(2)} –∫–ê</strong> ‚Äî 
                ${therm_ok ? "<span style='color:green;'>–≤–∏–∫–æ–Ω–∞–Ω–æ</span>" : "<span style='color:red;'>–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–æ</span>"}<br>
                ‚ö° –î–∏–Ω–∞–º—ñ—á–Ω–∏–π —Å—Ç—Ä—É–º –ö–ó: <strong>${I_dyn.toFixed(2)} –∫–ê</strong><br>
                ‚öô –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–æ—ó —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ: 
                ${dyn_ok ? "<span style='color:green;'>–≤–∏–∫–æ–Ω–∞–Ω–æ</span>" : "<span style='color:red;'>–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–æ</span>"}
            `;
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        setModeParameters();
    </script>
</body>
</html>
